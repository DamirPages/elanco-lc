"use strict";var passwordToggler=document.querySelectorAll(".input-toggler");passwordToggler.forEach((function(toggler){toggler.addEventListener("click",(function(){toggler.classList.contains("active")?(toggler.classList.remove("active"),toggler.previousElementSibling.setAttribute("type","password")):(toggler.classList.add("active"),toggler.previousElementSibling.setAttribute("type","text"))}))})),window.addEventListener("DOMContentLoaded",(function(){[].forEach.call(document.querySelectorAll(".tel"),(function(input){var keyCode;function mask(event){event.keyCode&&(keyCode=event.keyCode),this.selectionStart<3&&event.preventDefault();var matrix="+7 (___) ___ ____",i=0,def=matrix.replace(/\D/g,""),val=this.value.replace(/\D/g,""),new_value=matrix.replace(/[_\d]/g,(function(a){return i<val.length?val.charAt(i++)||def.charAt(i):a}));-1!=(i=new_value.indexOf("_"))&&(i<5&&(i=3),new_value=new_value.slice(0,i));var reg=matrix.substr(0,this.value.length).replace(/_+/g,(function(a){return"\\d{1,"+a.length+"}"})).replace(/[+()]/g,"\\$&");(!(reg=new RegExp("^"+reg+"$")).test(this.value)||this.value.length<5||keyCode>47&&keyCode<58)&&(this.value=new_value),"blur"==event.type&&this.value.length<5&&(this.value="")}input.addEventListener("input",mask,!1),input.addEventListener("focus",mask,!1),input.addEventListener("blur",mask,!1),input.addEventListener("keydown",mask,!1)}))}));var popupOpenButtons=document.querySelectorAll("[data-popup-open]");popupOpenButtons.forEach((function(popupBtn){popupBtn.addEventListener("click",(function(){var popupName=popupBtn.dataset.popupOpen;document.querySelector("."+popupName).classList.add("active"),disabledScroll()}))}));var popupCloseButtons=document.querySelectorAll("[data-popup-close]");popupCloseButtons.forEach((function(closeBtn){var popupContainer=closeBtn.closest(".popup");closeBtn.addEventListener("click",(function(){popupContainer.classList.remove("active"),activeScroll()}))}));var emptyVlidationFields=document.querySelectorAll(".empty-validation");emptyVlidationFields.forEach((function(field){var container=field.closest(".lc-container"),textAreaContainer=field.parentElement,button=null==container?void 0:container.querySelector(".button-js");field.addEventListener("input",(function(){if(!field.value.length)return textAreaContainer.classList.remove("valid"),void(null==button||button.setAttribute("disabled",!0));textAreaContainer.classList.add("valid"),null==button||button.removeAttribute("disabled")}))}));var inputEqualValidation=document.querySelectorAll("[data-validate-equal]");inputEqualValidation.forEach((function(input){var validValues=input.dataset.validateEqual,inputContainer=input.closest(".input"),button=input.closest(".outpoints__container").querySelector(".button-js");validValues&&(validValues=validValues.split(",").map((function(item){return item.trim()}))),input.addEventListener("input",(function(){var currentValue=input.value.trim();if(-1!==validValues.indexOf(currentValue))return inputContainer.classList.add("valid"),void button.removeAttribute("disabled");inputContainer.classList.remove("valid"),button.setAttribute("disabled",!0)}))}));var tabs=document.querySelectorAll("[data-tab-open]"),containers=document.querySelectorAll("[data-tab-container]");tabs.forEach((function(tab){var containerId=tab.dataset.tabOpen;tab.addEventListener("click",(function(e){e.preventDefault(),tabs.forEach((function(tab){return tab.classList.remove("active")})),tab.classList.add("active"),containers.forEach((function(tab){return tab.classList.remove("active")})),document.querySelector("[data-tab-container="+containerId+"]").classList.add("active"),document.querySelector(".pages-overlay").classList.add("active")}))}));var closeButtonPages=document.querySelectorAll("[data-tab-close]");closeButtonPages.forEach((function(close){close.addEventListener("click",(function(){containers.forEach((function(tab){return tab.classList.remove("active")})),tabs.forEach((function(tab){return tab.classList.remove("active")})),document.querySelector(".pages-overlay").classList.remove("active")}))}));var studyProgrammContainers=document.querySelectorAll(".studyprogram__container"),nextButtons=document.querySelectorAll(".studyprogram__container .button-next"),prevButtons=document.querySelectorAll(".studyprogram__container .button-prev");function studyInit(containers,nextButtons,prevButtons){var containersTotal=containers.length,containerCurrent=1,progressPercent=100*containerCurrent/containersTotal,totalEl=document.querySelectorAll(".progress-total"),currentEl=document.querySelectorAll(".progress-current"),line=document.querySelectorAll(".progress__fill");totalEl.forEach((function(item){return item.textContent=containersTotal})),currentEl.forEach((function(item){return item.textContent=containerCurrent})),nextButtons.forEach((function(btn){btn.addEventListener("click",(function(e){e.preventDefault(),progressPercent=100*(containerCurrent+=1)/containersTotal,containers.forEach((function(container){return container.classList.remove("active")})),containers[containerCurrent-1].classList.add("active"),currentEl.forEach((function(item){return item.textContent=containerCurrent})),line.forEach((function(line){return line.style.width=progressPercent+"%"}))}))})),prevButtons.forEach((function(btn){btn.addEventListener("click",(function(e){e.preventDefault(),progressPercent=100*(containerCurrent-=1)/containersTotal,containers.forEach((function(container){return container.classList.remove("active")})),containers[containerCurrent-1].classList.add("active"),currentEl.forEach((function(item){return item.textContent=containerCurrent})),line.forEach((function(line){return line.style.width=progressPercent+"%"}))}))}))}studyProgrammContainers.length>0&&studyInit(studyProgrammContainers,nextButtons,prevButtons);var testContainers=document.querySelectorAll(".test__container"),testButtonsNext=document.querySelectorAll(".next-question"),testButtonCheck=document.querySelectorAll(".button-show-result"),answerPercent=document.querySelector(".answer-percent");testContainers.length&&testInit(testContainers,testButtonsNext,testButtonCheck);var questionsCorrectAnswers={"quest1-1":"А","quest1-2":"Б","quest1-3":"В","quest1-4":"В","quest1-5":"Г","quest2-1":"В","quest2-2":"А","quest2-3":"А","quest2-4":"Б","quest2-5":"Б","quest3-1":"Г","quest3-2":"Г","quest3-3":"В","quest3-4":"А","quest3-5":"Г"};function testInit(testContainers,testButtonsNext,testButtonCheck){var testTotalQuestions=document.querySelectorAll(".progress-total"),testCurrentQuestion=document.querySelectorAll(".progress-current"),line=document.querySelectorAll(".progress__fill"),testTotalsContainers=testContainers.length,testCurrentContainer=1,progressPercent=100*testCurrentContainer/testTotalsContainers,radioContainers=document.querySelectorAll(".test__answer"),currentQuestion="",currentAnswer="",answersTotal=0;radioContainers.forEach((function(radioContainer){var radio=radioContainer.querySelector("input"),answer=radioContainer.querySelector(".answer").textContent;radio.addEventListener("change",(function(){testContainers[testCurrentContainer-1].querySelector(".test__dialog-answer .test-message").textContent=answer,testContainers[testCurrentContainer-1].querySelector(".button-show-result").classList.add("active"),currentQuestion=radio.getAttribute("name"),currentAnswer=radio.value}))})),testButtonCheck.forEach((function(check){check.addEventListener("click",(function(){questionsCorrectAnswers[currentQuestion]===currentAnswer?(testContainers[testCurrentContainer-1].classList.add("quest-correct"),answersTotal+=100/testTotalsContainers,answerPercent.value=answersTotal):testContainers[testCurrentContainer-1].classList.add("quest-wrong"),testContainers[testCurrentContainer-1].querySelectorAll(".button").forEach((function(btn){return btn.removeAttribute("disabled")})),testContainers[testCurrentContainer-1].querySelector('[value="'.concat(questionsCorrectAnswers[currentQuestion],'"] + .answer')).classList.add("correct")}))})),testCurrentQuestion.forEach((function(item){return item.textContent=testCurrentContainer})),testTotalQuestions.forEach((function(item){return item.textContent=testTotalsContainers})),line.forEach((function(line){return line.style.width=progressPercent+"%"})),testButtonsNext.forEach((function(btn){btn.addEventListener("click",(function(e){e.preventDefault(),progressPercent=100*(testCurrentContainer+=1)/testTotalsContainers,testCurrentQuestion.forEach((function(item){return item.textContent=testCurrentContainer})),line.forEach((function(line){return line.style.width=progressPercent+"%"})),testContainers.forEach((function(container){return container.classList.remove("active")})),testContainers[testCurrentContainer-1].classList.add("active")}))}))}var uploadInput=document.querySelectorAll(".upload-input");uploadInput.forEach((function(input){var parent=input.closest(".upload__container"),preview=parent.querySelector(".upload__preview img"),fileName=parent.querySelector(".lc-file-file"),clearButton=parent.querySelector(".lc-file-clear"),inputContainer=parent.querySelector(".upload__file"),button=parent.querySelector(".button-js"),DEFAULT_TEXT=fileName.textContent,DEFAULT_PREVIEW=preview.getAttribute("src");clearButton.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault(),input.value="";var event=new Event("change");input.dispatchEvent(event)})),input.addEventListener("change",(function(e){if(void 0===e.target.files[0])inputContainer.classList.remove("success"),inputContainer.classList.remove("active"),fileName.textContent=DEFAULT_TEXT,preview.setAttribute("src",DEFAULT_PREVIEW),null==button||button.setAttribute("disabled",!0);else{var reader=new FileReader;reader.onload=function(e){preview.setAttribute("src",e.target.result)},reader.readAsDataURL(input.files[0]),inputContainer.classList.add("active"),fileName.textContent=e.target.files[0].name,null==button||button.removeAttribute("disabled")}}))}));